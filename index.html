<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investimento Consciente - Simulador Financeiro</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2E86DE;
            --secondary: #10AC84;
            --accent: #FF9F43;
            --danger: #EE5A24;
            --light: #F5F6FA;
            --dark: #2F3640;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --success: #38b000;
            --warning: #f9c74f;
            --info: #4cc9f0;
            --border-radius: 8px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: var(--shadow);
        }
        
        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 1rem;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        .card {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .card-icon {
            font-size: 1.5rem;
            margin-right: 0.5rem;
            color: var(--primary);
        }
        
        .btn {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: #1c6bc0;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: var(--secondary);
        }
        
        .btn-secondary:hover {
            background: #0d8b6a;
        }
        
        .btn-accent {
            background: var(--accent);
        }
        
        .btn-accent:hover {
            background: #e67e22;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }
        
        .simulator {
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        input[type="number"], input[type="text"], select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        input[type="range"] {
            width: 100%;
        }
        
        .range-values {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
        }
        
        /* NOVO ESTILO PARA RESULTADOS */
        .results-container {
            margin-top: 2rem;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }
        
        .results-header {
            background: linear-gradient(135deg, var(--primary), #3a56e4);
            color: white;
            padding: 1.5rem;
        }
        
        .results-title {
            font-size: 1.4rem;
            margin: 0;
            font-weight: 600;
        }
        
        .results-subtitle {
            opacity: 0.9;
            margin: 0.5rem 0 0 0;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            padding: 1.5rem;
        }
        
        .result-card {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 1.2rem;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }
        
        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }
        
        .result-card.positive {
            border-top: 4px solid var(--success);
        }
        
        .result-card.negative {
            border-top: 4px solid var(--danger);
        }
        
        .result-card.neutral {
            border-top: 4px solid var(--primary);
        }
        
        .card-label {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 0.5rem;
        }
        
        .card-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0;
            font-family: 'Montserrat', sans-serif;
        }
        
        .card-positive {
            color: var(--success);
        }
        
        .card-negative {
            color: var(--danger);
        }
        
        .card-description {
            font-size: 0.85rem;
            margin-top: 0.5rem;
            color: #6c757d;
        }
        
        .result-change {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-top: 0.8rem;
        }
        
        .change-positive {
            background-color: rgba(56, 176, 0, 0.15);
            color: var(--success);
        }
        
        .change-negative {
            background-color: rgba(229, 56, 59, 0.15);
            color: var(--danger);
        }
        
        .results-summary {
            background: #f8f9fa;
            padding: 1.2rem 1.5rem;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .summary-text {
            font-weight: 600;
        }
        
        .summary-value {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        /* Responsividade para resultados */
        @media (max-width: 768px) {
            .results-grid {
                grid-template-columns: 1fr;
            }
            
            .results-summary {
                flex-direction: column;
                text-align: center;
                gap: 0.8rem;
            }
        }
        
        .highlight {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .fact-box {
            background: var(--light);
            padding: 1rem;
            border-left: 4px solid var(--accent);
            margin: 1rem 0;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        
        .comparison-table th, .comparison-table td {
            padding: 0.8rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .comparison-table th {
            background: var(--light);
        }
        
        .comparison-table tr:hover {
            background: #f1f2f6;
        }
        
        .news-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .news-item {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        
        .news-img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }
        
        .news-content {
            padding: 1.5rem;
        }
        
        footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
        }
        
        .tab-container {
            margin: 2rem 0;
        }
        
        .tabs {
            display: flex;
            border-bottom: 2px solid #ddd;
            margin-bottom: 1.5rem;
        }
        
        .tab {
            padding: 1rem 1.5rem;
            cursor: pointer;
            font-weight: 600;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            border-bottom: 3px solid var(--primary);
            color: var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Simulador de Investimentos Conscientes</h1>
            <p>Entenda como investir seu dinheiro em tempos de alta infla√ß√£o e Selic elevada</p>
        </div>
    </header>

    <div class="container">
        <div class="card">
            <h2>Contexto Econ√¥mico Atual do Brasil</h2>
            <p>Com a infla√ß√£o em <strong>5.24%</strong> (IPCA acumulado 12 meses - Jul/2025) e a taxa Selic em <strong>15%</strong> ao ano, entender sobre investimentos nunca foi t√£o importante.</p>
            
            <div class="fact-box">
                <h3>üí° Voc√™ sabia?</h3>
                <p>Com a infla√ß√£o em 5.24% ao ano, seu dinheiro precisa render pelo menos isso para n√£o perder valor. Ou seja, R$ 1.000 hoje equivaler√£o a apenas R$ 938,80 em poder de compra daqui a um ano se n√£o renderem acima da infla√ß√£o.</p>
            </div>
        </div>

        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" onclick="openTab(event, 'simulator')">Simulador</div>
                <div class="tab" onclick="openTab(event, 'comparison')">Compara√ß√£o</div>
                <div class="tab" onclick="openTab(event, 'education')">Educa√ß√£o</div>
            </div>

            <div id="simulator" class="tab-content active">
                <div class="dashboard">
                    <div class="simulator">
                        <h2>Simulador de Investimentos</h2>
                        <p>Calcule como seus investimentos podem crescer ao longo do tempo</p>
                        
                        <div class="form-group">
                            <label for="initialAmount">Valor Inicial (R$)</label>
                            <input type="number" id="initialAmount" min="0" value="1000" onchange="updateSimulation()">
                        </div>
                        
                        <div class="form-group">
                            <label for="monthlyContribution">Aporte Mensal (R$)</label>
                            <input type="number" id="monthlyContribution" min="0" value="100" onchange="updateSimulation()">
                        </div>
                        
                        <div class="form-group">
                            <label for="time">Tempo de Investimento (anos)</label>
                            <input type="range" id="time" min="1" max="30" value="10" oninput="updateSimulation()">
                            <div class="range-values">
                                <span>1 ano</span>
                                <span id="timeValue">10 anos</span>
                                <span>30 anos</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="interestRate">Taxa de Retorno Anual (%)</label>
                            <input type="range" id="interestRate" min="0" max="20" step="0.1" value="10" oninput="updateSimulation()">
                            <div class="range-values">
                                <span>0%</span>
                                <span id="interestValue">10%</span>
                                <span>20%</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="inflationRate">Taxa de Infla√ß√£o Anual (%)</label>
                            <select id="inflationRate" onchange="updateSimulation()">
                                <option value="4.5">Meta do BC (4.5%)</option>
                                <option value="5.12" selected>Infla√ß√£o Atual (5.12%)</option>
                                <option value="10">Alta Infla√ß√£o (10%)</option>
                            </select>
                        </div>
                        
                        <!-- NOVA SE√á√ÉO DE RESULTADOS -->
                        <div class="results-container">
                            <div class="results-header">
                                <h3 class="results-title">Resultado da Simula√ß√£o</h3>
                                <p class="results-subtitle">Proje√ß√£o de <span id="resultYears">10 anos</span> com taxa de <span id="resultRate">10%</span> ao ano</p>
                            </div>
                            
                            <div class="results-grid">
                                <div class="result-card neutral">
                                    <p class="card-label">Total Investido</p>
                                    <h3 class="card-value" id="totalInvested">R$ 13.000,00</h3>
                                    <p class="card-description">Valor total aplicado ao longo do per√≠odo</p>
                                </div>
                                
                                <div class="result-card positive">
                                    <p class="card-label">Valor Final Bruto</p>
                                    <h3 class="card-value" id="finalAmount">R$ 21.037,40</h3>
                                    <p class="card-description">Valor antes de ajuste inflacion√°rio</p>
                                    <div class="result-change change-positive" id="nominalGainPercent">+61.8%</div>
                                </div>
                                
                                <div class="result-card positive">
                                    <p class="card-label">Valor Ajustado</p>
                                    <h3 class="card-value" id="adjustedAmount">R$ 13.456,23</h3>
                                    <p class="card-description">Valor real (poder de compra atual)</p>
                                </div>
                                
                                <div class="result-card" id="realGainCard">
                                    <p class="card-label">Ganho Real</p>
                                    <h3 class="card-value card-positive" id="realGain">R$ 456,23</h3>
                                    <p class="card-description">Acima da infla√ß√£o</p>
                                    <div class="result-change change-positive" id="realGainPercent">+3.5%</div>
                                </div>
                            </div>
                            
                            <div class="results-summary">
                                <span class="summary-text">Rentabilidade real aproximada:</span>
                                <span class="summary-value" id="annualRealReturn">0.34% ao ano</span>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon">üìà</div>
                                <h3>Proje√ß√£o do Investimento</h3>
                            </div>
                            <canvas id="investmentChart" height="300"></canvas>
                        </div>
                        
                        <div class="card">
                            <div class="card-header">
                                <div class="card-icon">üí∞</div>
                                <h3>Dicas para Investir</h3>
                            </div>
                            <ul>
                                <li>Diversifique seus investimentos</li>
                                <li>Considere a infla√ß√£o nos c√°lculos</li>
                                <li>Invista regularmente (efeito dos juros compostos)</li>
                                <li>Analise o risco de cada aplica√ß√£o</li>
                                <li>Pense no longo prazo</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div id="comparison" class="tab-content">
                <h2>Compara√ß√£o de Investimentos</h2>
                <p>Veja como diferentes aplica√ß√µes performam ao longo do tempo</p>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Tipo de Investimento</th>
                            <th>Retorno Anual Esperado</th>
                            <th>Risco</th>
                            <th>Valor ap√≥s 10 anos (R$ 1.000 inicial)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Poupan√ßa</td>
                            <td>6.17%</td>
                            <td>Baixo</td>
                            <td>R$ 1.820,64</td>
                        </tr>
                        <tr>
                            <td>CDB (100% CDI)</td>
                            <td>12.13%</td>
                            <td>Baixo</td>
                            <td>R$ 3.138,42</td>
                        </tr>
                        <tr>
                            <td>Tesouro Direto (IPCA+)</td>
                            <td>5.8% + IPCA</td>
                            <td>Baixo</td>
                            <td>R$ 3.542,18</td>
                        </tr>
                        <tr>
                            <td>Fundos Imobili√°rios</td>
                            <td>8-12%</td>
                            <td>M√©dio</td>
                            <td>R$ 2.800,00</td>
                        </tr>
                        <tr>
                            <td>A√ß√µes (IBOV)</td>
                            <td>12-15%</td>
                            <td>Alto</td>
                            <td>R$ 3.800,00</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="fact-box">
                    <h3>üí° Entenda os tipos de investimento</h3>
                    <p>A poupan√ßa tem rendimento garantido, mas geralmente fica abaixo da infla√ß√£o. O CDB acompanha o CDI (pr√≥ximo da Selic). O Tesouro IPCA+ protege contra a infla√ß√£o e paga uma taxa adicional. Fundos imobili√°rios e a√ß√µes t√™m potencial de retorno maior, mas tamb√©m maior volatilidade.</p>
                </div>
            </div>

            <div id="education" class="tab-content">
                <h2>Educa√ß√£o Financeira</h2>
                <p>Conceitos importantes para entender antes de investir</p>
                
                <div class="grid">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">üìä</div>
                            <h3>Juros Compostos</h3>
                        </div>
                        <p>Os juros compostos s√£o calculados sobre o valor inicial e tamb√©m sobre os juros acumulados anteriormente. √â o famoso "juros sobre juros".</p>
                        <p>F√≥rmula: M = C √ó (1 + i)‚Åø</p>
                        <p>Onde:<br>
                        M = Montante final<br>
                        C = Capital inicial<br>
                        i = Taxa de juros<br>
                        n = Per√≠odo de tempo</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">‚öñÔ∏è</div>
                            <h3>Rela√ß√£o Risco x Retorno</h3>
                        </div>
                        <p>Geralmente, investimentos com maior potencial de retorno tamb√©m apresentam maior risco. √â importante encontrar um equil√≠brio adequado ao seu perfil.</p>
                        <p>Exemplos:<br>
                        - Baixo risco: Tesouro Direto, CDB<br>
                        - M√©dio risco: Fundos Imobili√°rios, Deb√™ntures<br>
                        - Alto risco: A√ß√µes, Criptomoedas</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">üõ°Ô∏è</div>
                            <h3>Prote√ß√£o contra Infla√ß√£o</h3>
                        </div>
                        <p>A infla√ß√£o corr√≥i o poder de compra do seu dinheiro. Investimentos atrelados ao IPCA (√çndice de Pre√ßos ao Consumidor Amplo) protegem seu capital contra essa perda.</p>
                        <p>Exemplos de investimentos indexados ao IPCA:<br>
                        - Tesouro IPCA+<br>
                        - Deb√™ntures incentivadas<br>
                        - Fundos de infla√ß√£o</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>Not√≠cias e Dados Oficiais</h2>
            <p>Mantenha-se atualizado com informa√ß√µes dos principais √≥rg√£os oficiais</p>
            
            <div class="news-container">
                <div class="news-item">
                    <img src="https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80" alt="BC Brasil" class="news-img">
                    <div class="news-content">
                        <h3>Banco Central</h3>
                        <p>Taxa Selic atual: 15% ao ano</p>
                        <a href="https://www.bcb.gov.br" target="_blank" class="btn">Acessar Site</a>
                    </div>
                </div>
                
                <div class="news-item">
                    <img src="https://images.unsplash.com/photo-1589652717521-10c0d092dea9?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80" alt="IBGE" class="news-img">
                    <div class="news-content">
                        <h3>IBGE - Infla√ß√£o</h3>
                        <p>IPCA acumulado 12 meses: 5.24% (Jul/2025)</p>
                        <a href="https://www.ibge.gov.br" target="_blank" class="btn">Acessar Site</a>
                    </div>
                </div>
                
                <div class="news-item">
                    <img src="https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80" alt="Tesouro Direto" class="news-img">
                    <div class="news-content">
                        <h3>Tesouro Direto</h3>
                        <p>Investindo em t√≠tulos p√∫blicos federais</p>
                        <a href="https://www.tesourodireto.com.br" target="_blank" class="btn">Acessar Site</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>Simulador de Investimentos Conscientes - Educational Purpose Only</p>
            <p>Dados de Julho/2025 - Fontes: Banco Central, IBGE, Tesouro Direto</p>
        </div>
    </footer>

    <script>
        // Inicializar gr√°fico
        const ctx = document.getElementById('investmentChart').getContext('2d');
        
        // Criar gradiente para o gr√°fico
        const gradient = ctx.createLinearGradient(0, 0, 0, 400);
        gradient.addColorStop(0, 'rgba(46, 134, 222, 0.6)');
        gradient.addColorStop(1, 'rgba(46, 134, 222, 0.1)');
        
        let investmentChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: 'Valor do Investimento (Nominal)',
                    data: [],
                    borderColor: '#2E86DE',
                    backgroundColor: gradient,
                    fill: true,
                    tension: 0.3,
                    pointBackgroundColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }, {
                    label: 'Valor Ajustado pela Infla√ß√£o',
                    data: [],
                    borderColor: '#10AC84',
                    backgroundColor: 'rgba(16, 172, 132, 0.1)',
                    fill: true,
                    tension: 0.3,
                    borderDash: [5, 5],
                    pointBackgroundColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Proje√ß√£o do Seu Investimento',
                        font: {
                            size: 16,
                            family: 'Montserrat'
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        backgroundColor: 'rgba(0, 0, 0, 0.7)',
                        titleFont: {
                            family: 'Montserrat'
                        },
                        bodyFont: {
                            family: 'Open Sans'
                        },
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': R$ ' + context.raw.toFixed(2).replace('.', ',');
                            }
                        }
                    },
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: {
                                family: 'Open Sans'
                            },
                            padding: 20
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        },
                        ticks: {
                            callback: function(value) {
                                return 'R$ ' + value.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ".");
                            },
                            font: {
                                family: 'Open Sans'
                            }
                        }
                    },
                    x: {
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        },
                        ticks: {
                            font: {
                                family: 'Open Sans'
                            }
                        }
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index'
                },
                animations: {
                    tension: {
                        duration: 1000,
                        easing: 'linear'
                    }
                }
            }
        });

        // Fun√ß√£o para atualizar a simula√ß√£o
        function updateSimulation() {
            // Obter valores dos inputs
            const initialAmount = parseFloat(document.getElementById('initialAmount').value);
            const monthlyContribution = parseFloat(document.getElementById('monthlyContribution').value);
            const time = parseInt(document.getElementById('time').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value);
            const inflationRate = parseFloat(document.getElementById('inflationRate').value);
            
            // Atualizar valores exibidos nos sliders
            document.getElementById('timeValue').textContent = time + ' anos';
            document.getElementById('interestValue').textContent = interestRate.toFixed(1) + '%';
            
            // Atualizar texto de resumo
            document.getElementById('resultYears').textContent = time + ' anos';
            document.getElementById('resultRate').textContent = interestRate.toFixed(1) + '%';
            
            // Calcular proje√ß√£o
            let months = time * 12;
            let monthlyRate = Math.pow(1 + interestRate/100, 1/12) - 1;
            let monthlyInflation = Math.pow(1 + inflationRate/100, 1/12) - 1;
            
            let totalInvested = initialAmount;
            let currentAmount = initialAmount;
            let adjustedAmount = initialAmount;
            
            let labels = ['In√≠cio'];
            let data = [currentAmount];
            let adjustedData = [adjustedAmount];
            
            for (let i = 1; i <= months; i++) {
                // Adicionar aporte mensal
                if (i > 1) {
                    currentAmount += monthlyContribution;
                    totalInvested += monthlyContribution;
                }
                
                // Aplicar juros
                currentAmount *= (1 + monthlyRate);
                
                // Ajustar pela infla√ß√£o
                adjustedAmount = currentAmount / Math.pow(1 + monthlyInflation, i);
                
                // Adicionar pontos ao gr√°fico a cada ano
                if (i % 12 === 0 || i === months) {
                    labels.push('Ano ' + (i/12));
                    data.push(currentAmount);
                    adjustedData.push(adjustedAmount);
                }
            }
            
            // Calcular percentuais
            const nominalGain = currentAmount - totalInvested;
            const nominalGainPercent = (nominalGain / totalInvested * 100).toFixed(1);
            
            const realGainValue = adjustedAmount - totalInvested;
            const realGainPercent = (realGainValue / totalInvested * 100).toFixed(1);
            
            const annualRealReturn = (Math.pow(adjustedAmount / totalInvested, 1/time) - 1) * 100;
            
            // Atualizar resultados
            document.getElementById('totalInvested').textContent = formatCurrency(totalInvested);
            document.getElementById('finalAmount').textContent = formatCurrency(currentAmount);
            document.getElementById('adjustedAmount').textContent = formatCurrency(adjustedAmount);
            
            const realGainElement = document.getElementById('realGain');
            realGainElement.textContent = formatCurrency(realGainValue);
            
            // Ajustar cores baseadas no resultado
            const realGainCard = document.getElementById('realGainCard');
            if (realGainValue > 0) {
                realGainCard.className = 'result-card positive';
                realGainElement.className = 'card-value card-positive';
            } else if (realGainValue < 0) {
                realGainCard.className = 'result-card negative';
                realGainElement.className = 'card-value card-negative';
            } else {
                realGainCard.className = 'result-card neutral';
                realGainElement.className = 'card-value';
            }
            
            // Atualizar percentuais
            document.getElementById('nominalGainPercent').textContent = 
                (nominalGain >= 0 ? '+' : '') + nominalGainPercent + '%';
            document.getElementById('realGainPercent').textContent = 
                (realGainValue >= 0 ? '+' : '') + realGainPercent + '%';
            document.getElementById('realGainPercent').className = 
                'result-change ' + (realGainValue >= 0 ? 'change-positive' : 'change-negative');
                
            document.getElementById('annualRealReturn').textContent = 
                (annualRealReturn >= 0 ? '+' : '') + annualRealReturn.toFixed(2) + '% ao ano';
            
            // Atualizar gr√°fico
            investmentChart.data.labels = labels;
            investmentChart.data.datasets[0].data = data;
            investmentChart.data.datasets[1].data = adjustedData;
            investmentChart.update();
        }

        // Fun√ß√£o para formatar valores monet√°rios
        function formatCurrency(value) {
            return 'R$ ' + value.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }

        // Fun√ß√£o para abrir abas
        function openTab(evt, tabName) {
            let tabcontent = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            
            let tablinks = document.getElementsByClassName("tab");
            for (let i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        // Inicializar a simula√ß√£o ao carregar a p√°gina
        window.onload = function() {
            updateSimulation();
        };
    </script>
</body>
</html>